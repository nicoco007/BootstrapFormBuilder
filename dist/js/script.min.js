"use strict";var BootstrapFormBuilder={init:function(){var t=this;$(".bsfb-form").each(function(){var r=$(this);r.find('[type="submit"]').on("click",function(){$(this).attr("clicked","true")}),r.find("input, textarea").on("change",function(){window.onbeforeunload=function(e){return e.returnValue="no"}}),r.on("submit",function(e){e.preventDefault(),t.form.submit(r)}),r.find(".datetimepicker-date").each(function(){var e=$(this),r=e.find("input").attr("id");e.prepend('<div class="input-group-prepend"><button type="button" class="btn btn-primary" data-target="#'+r+'-wrapper" data-toggle="datetimepicker"><i class="fa fa-calendar"></i></button></div>'),e.datetimepicker({format:"L",locale:e.data("locale")||"en"})})})},form:{submit:function(a){var n=this;a.find("fieldset, button").prop("disabled",!0),a.find("a").addClass("disabled"),a.find(".alert").remove();var e=a.find('button[type="submit"][clicked=true]');e.removeAttr("clicked");var r=e.children().first();r.is("i.fa")&&r.addClass("d-none"),e.prepend('<i class="fa fa-spinner fa-spin loader"></i> ');var t={ajax_submit:!0};t[e.attr("name")]=e.val(),a.find("input, textarea, select").each(function(){var e=$(this),r=e.parents(".form-group");e.removeClass("is-invalid"),r.find(".invalid-feedback").remove(),"checkbox"===e.attr("type")?t[e.attr("name")]=e.prop("checked")?"on":null:"radio"===e.attr("type")?e.prop("checked")&&(t[e.attr("name")]=e.val()):t[e.attr("name")]=e.val()}),$.ajax({method:a.attr("method"),contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:t,success:function(e){n.ajax.success(a,e)},error:function(e,r,t){n.ajax.error(a,e,r,t)},complete:function(){n.ajax.complete(a,e)}})},ajax:{success:function(e,r){if(!0===r.submitted)if(r.controlErrors)for(var t in r.controlErrors){var a=r.controlErrors[t],n=e.find('[name="'+t+'"]'),i=n.parents(".form-group");n.addClass("is-invalid"),console.log(i),i.find(".form-control:first, .custom-control:last").after('<div class="invalid-feedback d-block">'+a+"</div>")}else r.error?r.error.message?e.prepend('<div class="alert alert-danger">'+r.error.message+"</div>"):e.prepend('<div class="alert alert-danger">An unexpected error occured.</div>'):r.response?(e.prepend('<div class="alert alert-'+r.response.class+'">'+r.response.message+"</div>"),r.success&&(window.onbeforeunload=null)):(e.prepend('<div class="alert alert-success">Form submitted successfully.</div>'),window.onbeforeunload=null);else e.prepend('<div class="alert alert-danger">An unexpected server-side error occured. Please try again later.</div>')},error:function(e,r,t,a){e.prepend('<div class="alert alert-danger">Unable to submit form: '+a+"</div>")},complete:function(e,r){var t;r.find("i.fa.loader").remove(),r.children().first().removeClass("d-none");var a=e.find(".is-invalid:first").parents(".form-group");t=a.length?a.offset().top-10:e.offset().top-50,$("html, body").animate({scrollTop:t},100),e.find("fieldset, button").prop("disabled",!1),e.find("a").removeClass("disabled")}}}};$(function(){BootstrapFormBuilder.init()});
//# sourceMappingURL=script.min.js.map