"use strict";function submitForm(d){d.find("fieldset, button").prop("disabled",!0),d.find("a").addClass("disabled"),d.find(".alert").remove();var a,n=d.find('button[type="submit"][clicked=true]'),r=n.find("i.fa");n.removeAttr("clicked"),r.length?(a=r.attr("class"),r.attr("class","fa fa-spinner fa-spin")):n.prepend('<i class="fa fa-spinner fa-spin"></i> ');var i={ajax_submit:!0};i[n.attr("name")]=n.val(),d.find("input, textarea").each(function(){var e=$(this),t=e.parents(".form-group");e.removeClass("is-invalid"),t.find(".invalid-feedback").remove(),"checkbox"===e.attr("type")?i[e.attr("name")]=e.prop("checked")?"on":null:"radio"===e.attr("type")?e.prop("checked")&&(i[e.attr("name")]=e.val()):i[e.attr("name")]=e.val()}),$.ajax({method:d.attr("method"),contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:i,success:function(e){if(!0===e.submitted){var t;for(var a in e.errors){t=!0;var n=e.errors[a],r=d.find('[name="'+a+'"]'),i=r.parents(".form-group");r.addClass("is-invalid"),i.append('<div class="invalid-feedback d-block">'+n+"</div>")}t||(d.prepend('<div class="alert alert-success">Form submitted successfully.</div>'),window.onbeforeunload=null)}else d.prepend('<div class="alert alert-danger">An unexpected server-side error occured. Please try again later.</div>')},error:function(e,t,a){d.prepend('<div class="alert alert-danger">Unable to submit form: '+a+"</div>")},complete:function(){var e;a?r.attr("class",a):n.find("i.fa").remove();var t=d.find(".is-invalid:first").parents(".form-group");e=t.length?t.offset().top-10:d.offset().top-50,$("html, body").animate({scrollTop:e},100),d.find("fieldset, button").prop("disabled",!1),d.find("a").removeClass("disabled")}})}$(function(){$(".bsfb-form").each(function(){var t=$(this);t.find('[type="submit"]').on("click",function(){$(this).attr("clicked","true")}),t.find("input, textarea").on("change",function(){window.onbeforeunload=function(e){return e.returnValue="no"}}),t.on("submit",function(e){e.preventDefault(),submitForm(t)}),t.find(".datetimepicker-date").each(function(){var e=$(this),t=e.find("input").attr("id");e.prepend('<div class="input-group-prepend"><button type="button" class="btn btn-primary" data-target="#'+t+'-wrapper" data-toggle="datetimepicker"><i class="fa fa-calendar"></i></button></div>'),e.datetimepicker({format:"L",locale:e.data("locale")||"en"})})})});
//# sourceMappingURL=script.min.js.map